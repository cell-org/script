var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,o;function a(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function i(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function u(e,t,n){e.$$.on_destroy.push(i(t,n))}function d(e,t,n){return e.set(n),t}function f(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function $(){return b(" ")}function g(){return b("")}function w(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e){return""===e?null:+e}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function C(e){o=e}function E(){const e=function(){if(!o)throw new Error("Function called outside component initialization");return o}();return(t,n,{cancelable:l=!1}={})=>{const s=e.$$.callbacks[t];if(s){const c=function(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,l,t),s}(t,n,{cancelable:l});return s.slice().forEach((t=>{t.call(e,c)})),!c.defaultPrevented}return!0}}const z=[],_=[],N=[],R=[],T=Promise.resolve();let I=!1;function j(e){N.push(e)}const S=new Set;let O=0;function F(){const e=o;do{for(;O<z.length;){const e=z[O];O++,C(e),A(e.$$)}for(C(null),z.length=0,O=0;_.length;)_.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];S.has(t)||(S.add(t),t())}N.length=0}while(z.length);for(;R.length;)R.pop()();I=!1,S.clear(),C(e)}function A(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const P=new Set;let B;function L(){B={r:0,c:[],p:B}}function M(){B.r||l(B.c),B=B.p}function D(e,t){e&&e.i&&(P.delete(e),e.i(t))}function U(e,t,n,l){if(e&&e.o){if(P.has(e))return;P.add(e),B.c.push((()=>{P.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function H(e){e&&e.c()}function J(e,n,c,r){const{fragment:o,on_mount:a,on_destroy:i,after_update:u}=e.$$;o&&o.m(n,c),r||j((()=>{const n=a.map(t).filter(s);i?i.push(...n):l(n),e.$$.on_mount=[]})),u.forEach(j)}function W(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(z.push(e),I||(I=!0,T.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function G(t,s,c,r,a,i,u,d=[-1]){const f=o;C(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};u&&u(p.root);let h=!1;if(p.ctx=c?c(t,s.props||{},((e,n,...l)=>{const s=l.length?l[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),h&&X(t,e)),n})):[],p.update(),h=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(v)}else p.fragment&&p.fragment.c();s.intro&&D(t.$$.fragment),J(t,s.target,s.anchor,s.customElement),F()}C(f)}class K{$destroy(){W(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Q=[];function V(t,n=e){let l;const s=new Set;function r(e){if(c(t,e)&&(t=e,l)){const e=!Q.length;for(const e of s)e[1](),Q.push(e,t);if(e){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(c,o=e){const a=[c,o];return s.add(a),1===s.size&&(l=n(r)||e),c(t),()=>{s.delete(a),0===s.size&&(l(),l=null)}}}}function Y(t,n,c){const r=!Array.isArray(t),o=r?[t]:t,a=n.length<2;return u=t=>{let c=!1;const u=[];let d=0,f=e;const p=()=>{if(d)return;f();const l=n(r?u[0]:u,t);a?t(l):f=s(l)?l:e},v=o.map(((e,t)=>i(e,(e=>{u[t]=e,d&=~(1<<t),c&&p()}),(()=>{d|=1<<t}))));return c=!0,p(),function(){l(v),f()}},{subscribe:V(c,u).subscribe};var u}let Z=V(),ee=V(),te=V(""),ne=V({cid:"bafkreidztp557q7fvbq5t34uat5l3vztkcjzavatrohclmigh5o7qxyrq4",domain:JSON.stringify({address:"0xed30ea17c9a8b8b7fc4aea5b9f8f0f3af349bb0d",chainId:4,name:"Payment"},null,2),owns:[],burned:[],payments:[],balance:[],senders:[],receivers:[]}),le=Y(ne,((e,t)=>{console.log("fetching"),fetch(`https://ipfs.io/ipfs/${e.cid}`).then((e=>e.json())).then((e=>{console.log("fetched",e),t(e)})).catch((e=>{console.log("ERROR",e.message),te.set("[IPFS] "+e.message)}))})),se=Y(ne,((e,t)=>{if(console.log("UPDATED",e),e&&e.cid){new Nuron({key:"m'/44'/60'/0'/0/0",workspace:"svelte",domain:JSON.parse(e.domain)}).token.create(e).then((e=>{t(e)})).catch((e=>{console.log("ERROR",e.message),te.set("[NURON] "+e.message)}))}else te.set("cid required")})),ce=Y([se,Z,ee],(([e,t,n],l)=>{if(e&&e.body&&e.domain){const s=new window.C0,c=new Web3(window.ethereum);s.init({web3:c}).then((()=>{s.token.estimate([e],[{receiver:t,puzzle:n}]).then((e=>{l(e),te.set("")})).catch((e=>{console.log(e),te.set(`[ERROR ${e.code}] ${e.message}`)}))})).catch((e=>{te.set(e.message)}))}else l(0)}));function re(t){let n,l,s;return{c(){n=m("button"),n.textContent="X",y(n,"class","svelte-13pqkqq")},m(e,c){p(e,n,c),l||(s=w(n,"click",t[11]),l=!0)},p:e,d(e){e&&v(n),l=!1,s()}}}function oe(t){let n,l,s;return{c(){n=m("button"),n.textContent="X",y(n,"class","svelte-13pqkqq")},m(e,c){p(e,n,c),l||(s=w(n,"click",t[10]),l=!0)},p:e,d(e){e&&v(n),l=!1,s()}}}function ae(e){let t,n,s,c,r,o,a,i,u=e[7]&&ie(e);return{c(){t=m("div"),n=m("div"),n.textContent="who",s=$(),c=m("div"),r=m("input"),o=$(),u&&u.c(),y(n,"class","col svelte-13pqkqq"),y(r,"placeholder",e[3]),y(r,"type","text"),y(r,"class","svelte-13pqkqq"),y(c,"class","flexible svelte-13pqkqq"),y(t,"class","row svelte-13pqkqq")},m(l,d){p(l,t,d),f(t,n),f(t,s),f(t,c),f(c,r),k(r,e[0].who),f(c,o),u&&u.m(c,null),a||(i=[w(r,"input",e[13]),w(r,"change",e[9])],a=!0)},p(e,t){8&t&&y(r,"placeholder",e[3]),1&t&&r.value!==e[0].who&&k(r,e[0].who),e[7]?u?u.p(e,t):(u=ie(e),u.c(),u.m(c,null)):u&&(u.d(1),u=null)},d(e){e&&v(t),u&&u.d(),a=!1,l(i)}}}function ie(e){let t,n;return{c(){t=m("div"),n=b(e[7]),y(t,"class","annotation svelte-13pqkqq")},m(e,l){p(e,t,l),f(t,n)},p(e,t){128&t&&q(n,e[7])},d(e){e&&v(t)}}}function ue(e){let t,n;return{c(){t=m("div"),n=b(e[6]),y(t,"class","annotation svelte-13pqkqq")},m(e,l){p(e,t,l),f(t,n)},p(e,t){64&t&&q(n,e[6])},d(e){e&&v(t)}}}function de(e){let t,n;return{c(){t=m("div"),n=b(e[8]),y(t,"class","annotation svelte-13pqkqq")},m(e,l){p(e,t,l),f(t,n)},p(e,t){256&t&&q(n,e[8])},d(e){e&&v(t)}}}function fe(t){let n,s,c,r,o,a,i,u,d,h,b,g,x,q,C,E,z,_,N,R,T=t[5]&&re(t),I=void 0!==t[4]&&oe(t),j=t[0].who&&ae(t),S=t[6]&&ue(t),O=t[8]&&de(t);return{c(){n=m("div"),s=m("div"),T&&T.c(),c=$(),I&&I.c(),r=$(),j&&j.c(),o=$(),a=m("div"),i=m("div"),i.textContent="what",u=$(),d=m("div"),h=m("input"),b=$(),S&&S.c(),g=$(),x=m("div"),q=m("div"),q.textContent="where",C=$(),E=m("div"),z=m("input"),_=$(),O&&O.c(),y(s,"class","header svelte-13pqkqq"),y(i,"class","col svelte-13pqkqq"),y(h,"placeholder",t[1]),y(h,"type","text"),y(h,"class","svelte-13pqkqq"),y(d,"class","flexible svelte-13pqkqq"),y(a,"class","row svelte-13pqkqq"),y(q,"class","col svelte-13pqkqq"),y(z,"placeholder",t[2]),y(z,"type","text"),y(z,"class","svelte-13pqkqq"),y(E,"class","flexible svelte-13pqkqq"),y(x,"class","row svelte-13pqkqq"),y(n,"class","component svelte-13pqkqq")},m(e,l){p(e,n,l),f(n,s),T&&T.m(s,null),f(s,c),I&&I.m(s,null),f(n,r),j&&j.m(n,null),f(n,o),f(n,a),f(a,i),f(a,u),f(a,d),f(d,h),k(h,t[0].what),f(d,b),S&&S.m(d,null),f(n,g),f(n,x),f(x,q),f(x,C),f(x,E),f(E,z),k(z,t[0].where),f(E,_),O&&O.m(E,null),N||(R=[w(h,"input",t[14]),w(h,"change",t[9]),w(z,"input",t[15]),w(z,"change",t[9])],N=!0)},p(e,[t]){e[5]?T?T.p(e,t):(T=re(e),T.c(),T.m(s,c)):T&&(T.d(1),T=null),void 0!==e[4]?I?I.p(e,t):(I=oe(e),I.c(),I.m(s,null)):I&&(I.d(1),I=null),e[0].who?j?j.p(e,t):(j=ae(e),j.c(),j.m(n,o)):j&&(j.d(1),j=null),2&t&&y(h,"placeholder",e[1]),1&t&&h.value!==e[0].what&&k(h,e[0].what),e[6]?S?S.p(e,t):(S=ue(e),S.c(),S.m(d,null)):S&&(S.d(1),S=null),4&t&&y(z,"placeholder",e[2]),1&t&&z.value!==e[0].where&&k(z,e[0].where),e[8]?O?O.p(e,t):(O=de(e),O.c(),O.m(E,null)):O&&(O.d(1),O=null)},i:e,o:e,d(e){e&&v(n),T&&T.d(),I&&I.d(),j&&j.d(),S&&S.d(),O&&O.d(),N=!1,l(R)}}}function pe(e,t,n){let l;u(e,ne,(e=>n(16,l=e)));let{payload:s={}}=t,{what:c}=t,{where:r}=t,{who:o}=t,{index:a}=t,{type:i}=t,{resettable:f}=t;const p=E();let v,h,m;return e.$$set=e=>{"payload"in e&&n(0,s=e.payload),"what"in e&&n(1,c=e.what),"where"in e&&n(2,r=e.where),"who"in e&&n(3,o=e.who),"index"in e&&n(4,a=e.index),"type"in e&&n(12,i=e.type),"resettable"in e&&n(5,f=e.resettable)},e.$$.update=()=>{if(4097&e.$$.dirty)if("royalty"===i){let e=s.what?parseInt(s.what):0;n(6,v=100*e/10**6+" %"),n(8,m="royalty receiver address")}else if("payments"===i){let e=s.what?parseInt(s.what):0;n(6,v=100*e/10**6+" %"),n(8,m="mint revenue split receiver address")}else"owns"===i||"burned"===i?(n(6,v="ERC721 tokenId"),n(8,m="ERC721 contract address (leave empty if same contract)"),n(7,h='enter "sender" or "receiver"')):"balance"===i&&(n(6,v="minimum ERC721/ERC20 balance"),n(8,m="ERC721/ERC20 contract address (leave empty if same contract)"),n(7,h='enter "sender" or "receiver"'))},[s,c,r,o,a,f,v,h,m,()=>{console.log("refresh"),p("refresh")},()=>{d(ne,l[i]=l[i].filter(((e,t)=>t!==a)),l)},()=>{delete l[i],ne.set(l)},i,function(){s.who=this.value,n(0,s)},function(){s.what=this.value,n(0,s)},function(){s.where=this.value,n(0,s)}]}class ve extends K{constructor(e){super(),G(this,e,pe,fe,c,{payload:0,what:1,where:2,who:3,index:4,type:12,resettable:5})}}function he(t){let n,s,c,r;return{c(){n=m("div"),s=m("textarea"),y(s,"placeholder","line separated addresses"),y(s,"class","svelte-1hnug1o"),y(n,"class","component svelte-1hnug1o")},m(e,l){p(e,n,l),f(n,s),k(s,t[0]),c||(r=[w(s,"input",t[3]),w(s,"change",t[1])],c=!0)},p(e,[t]){1&t&&k(s,e[0])},i:e,o:e,d(e){e&&v(n),c=!1,l(r)}}}function me(e,t,n){let l;u(e,ne,(e=>n(4,l=e)));let s="",{type:c}=t;return e.$$set=e=>{"type"in e&&n(2,c=e.type)},[s,()=>{d(ne,l[c]=s.split("\n").map((e=>e.trim())).filter((e=>""!=e)),l)},c,function(){s=this.value,n(0,s)}]}class be extends K{constructor(e){super(),G(this,e,me,he,c,{type:2})}}function $e(e){let t,n,l,s,c,r,o,i,u,d,h=e[0].name+"",g=e[0].description+"";return{c(){t=m("div"),n=m("img"),s=$(),c=m("div"),r=m("h1"),o=b(h),i=$(),u=m("div"),d=b(g),y(n,"alt",""),a(n.src,l="https://ipfs.io/ipfs/"+e[0].image)||y(n,"src",l),y(n,"class","svelte-1jupi58"),y(r,"class","svelte-1jupi58"),y(u,"class","description"),y(c,"class","col svelte-1jupi58"),y(t,"class","card svelte-1jupi58")},m(e,l){p(e,t,l),f(t,n),f(t,s),f(t,c),f(c,r),f(r,o),f(c,i),f(c,u),f(u,d)},p(e,t){1&t&&!a(n.src,l="https://ipfs.io/ipfs/"+e[0].image)&&y(n,"src",l),1&t&&h!==(h=e[0].name+"")&&q(o,h),1&t&&g!==(g=e[0].description+"")&&q(d,g)},d(e){e&&v(t)}}}function ge(t){let n,l=t[0]&&$e(t);return{c(){l&&l.c(),n=g()},m(e,t){l&&l.m(e,t),p(e,n,t)},p(e,[t]){e[0]?l?l.p(e,t):(l=$e(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:e,o:e,d(e){l&&l.d(e),e&&v(n)}}}function we(e,t,n){let l,s;return u(e,le,(e=>n(1,l=e))),e.$$.update=()=>{2&e.$$.dirty&&(l&&Object.keys(l)?n(0,s={name:l.name?l.name:"",description:l.description?l.description:"",image:l.image.replace("ipfs://","")}):n(0,s=null))},[s,l]}class ye extends K{constructor(e){super(),G(this,e,we,ge,c,{})}}function xe(e,t,n){const l=e.slice();return l[36]=t[n],l[38]=n,l}function qe(e,t,n){const l=e.slice();return l[39]=t[n],l[38]=n,l}function ke(e,t,n){const l=e.slice();return l[41]=t[n],l[38]=n,l}function Ce(e,t,n){const l=e.slice();return l[43]=t[n],l[38]=n,l}function Ee(e){let t,n,l;var s=ve;function c(e){return{props:{resettable:"true",type:"royalty",payload:e[2].royalty,what:"royalty portion (number between 1 and 1,000,000)",where:"royalty receiver address"}}}return s&&(t=new s(c(e)),t.$on("refresh",e[15])),{c(){t&&H(t.$$.fragment),n=g()},m(e,s){t&&J(t,e,s),p(e,n,s),l=!0},p(e,l){const r={};if(4&l[0]&&(r.payload=e[2].royalty),s!==(s=ve)){if(t){L();const e=t;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}s?(t=new s(c(e)),t.$on("refresh",e[15]),H(t.$$.fragment),D(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else s&&t.$set(r)},i(e){l||(t&&D(t.$$.fragment,e),l=!0)},o(e){t&&U(t.$$.fragment,e),l=!1},d(e){e&&v(n),t&&W(t,e)}}}function ze(e){let t,n,l;var s=ve;function c(e){return{props:{type:"payments",index:e[38],payload:e[43],what:"split portion (number between 1 and 1,000,000)",where:"mint revenue split receiver address"}}}return s&&(t=new s(c(e)),t.$on("refresh",e[15])),{c(){t&&H(t.$$.fragment),n=g()},m(e,s){t&&J(t,e,s),p(e,n,s),l=!0},p(e,l){const r={};if(4&l[0]&&(r.payload=e[43]),s!==(s=ve)){if(t){L();const e=t;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}s?(t=new s(c(e)),t.$on("refresh",e[15]),H(t.$$.fragment),D(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else s&&t.$set(r)},i(e){l||(t&&D(t.$$.fragment,e),l=!0)},o(e){t&&U(t.$$.fragment,e),l=!1},d(e){e&&v(n),t&&W(t,e)}}}function _e(e){let t,n,l;var s=ve;function c(e){return{props:{type:"owns",index:e[38],payload:e[41],what:"The NFT tokenId",who:"'sender' or 'receiver'",where:"NFT contract address (leave empty if same collection)"}}}return s&&(t=new s(c(e)),t.$on("refresh",e[15])),{c(){t&&H(t.$$.fragment),n=g()},m(e,s){t&&J(t,e,s),p(e,n,s),l=!0},p(e,l){const r={};if(4&l[0]&&(r.payload=e[41]),s!==(s=ve)){if(t){L();const e=t;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}s?(t=new s(c(e)),t.$on("refresh",e[15]),H(t.$$.fragment),D(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else s&&t.$set(r)},i(e){l||(t&&D(t.$$.fragment,e),l=!0)},o(e){t&&U(t.$$.fragment,e),l=!1},d(e){e&&v(n),t&&W(t,e)}}}function Ne(e){let t,n,l;var s=ve;function c(e){return{props:{type:"burned",index:e[38],payload:e[39],what:"The burned NFT tokenId",who:"'sender' or 'receiver'",where:"NFT contract address (leave empty if same collection)"}}}return s&&(t=new s(c(e)),t.$on("refresh",e[15])),{c(){t&&H(t.$$.fragment),n=g()},m(e,s){t&&J(t,e,s),p(e,n,s),l=!0},p(e,l){const r={};if(4&l[0]&&(r.payload=e[39]),s!==(s=ve)){if(t){L();const e=t;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}s?(t=new s(c(e)),t.$on("refresh",e[15]),H(t.$$.fragment),D(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else s&&t.$set(r)},i(e){l||(t&&D(t.$$.fragment,e),l=!0)},o(e){t&&U(t.$$.fragment,e),l=!1},d(e){e&&v(n),t&&W(t,e)}}}function Re(e){let t,n,l;var s=ve;function c(e){return{props:{type:"balance",index:e[38],payload:e[36],what:"The minimum balance required",who:"'sender' or 'receiver'",where:"The target NFT or ERC20 contract address"}}}return s&&(t=new s(c(e)),t.$on("refresh",e[15])),{c(){t&&H(t.$$.fragment),n=g()},m(e,s){t&&J(t,e,s),p(e,n,s),l=!0},p(e,l){const r={};if(4&l[0]&&(r.payload=e[36]),s!==(s=ve)){if(t){L();const e=t;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}s?(t=new s(c(e)),t.$on("refresh",e[15]),H(t.$$.fragment),D(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else s&&t.$set(r)},i(e){l||(t&&D(t.$$.fragment,e),l=!0)},o(e){t&&U(t.$$.fragment,e),l=!1},d(e){e&&v(n),t&&W(t,e)}}}function Te(e){let t,n,l;return{c(){t=m("input"),y(t,"type","text"),y(t,"placeholder","enter the hash puzzle solution"),y(t,"class","svelte-1b92cnu")},m(s,c){p(s,t,c),k(t,e[10]),n||(l=w(t,"input",e[32]),n=!0)},p(e,n){1024&n[0]&&t.value!==e[10]&&k(t,e[10])},d(e){e&&v(t),n=!1,l()}}}function Ie(e){let t,n,s,c,r,o,a,i,u,d,g,C,E,z,_,N,R,T,I,j,S,O,F,A,P,B,X,G,K,Q,V,Y,Z,ee,te,ne,le,se,ce,re,oe,ae,ie,ue,de,fe,pe,ve,he,me,$e,ge,we,Ie,je,Se,Oe,Fe,Ae,Pe,Be,Le,Me,De,Ue,He,Je,We,Xe,Ge,Ke,Qe,Ve,Ye,Ze,et,tt,nt,lt,st,ct,rt,ot,at,it,ut,dt,ft,pt,vt,ht,mt,bt,$t,gt,wt,yt,xt,qt,kt,Ct,Et,zt,_t,Nt,Rt,Tt,It,jt,St,Ot,Ft,At,Pt,Bt,Lt,Mt,Dt,Ut,Ht,Jt,Wt,Xt,Gt,Kt,Qt,Vt,Yt,Zt,en,tn,nn,ln,sn,cn,rn,on,an,un,dn,fn;var pn=be;pn&&(it=new pn({props:{type:"senders"}}),it.$on("refresh",e[15]));var vn=be;vn&&(ht=new vn({props:{type:"receivers"}}),ht.$on("refresh",e[15]));let hn=e[2].royalty&&Ee(e),mn=e[2].payments,bn=[];for(let t=0;t<mn.length;t+=1)bn[t]=ze(Ce(e,mn,t));const $n=e=>U(bn[e],1,1,(()=>{bn[e]=null}));let gn=e[2].owns,wn=[];for(let t=0;t<gn.length;t+=1)wn[t]=_e(ke(e,gn,t));const yn=e=>U(wn[e],1,1,(()=>{wn[e]=null}));let xn=e[2].burned,qn=[];for(let t=0;t<xn.length;t+=1)qn[t]=Ne(qe(e,xn,t));const kn=e=>U(qn[e],1,1,(()=>{qn[e]=null}));let Cn=e[2].balance,En=[];for(let t=0;t<Cn.length;t+=1)En[t]=Re(xe(e,Cn,t));const zn=e=>U(En[e],1,1,(()=>{En[e]=null}));Zt=new ye({});let _n=e[2].puzzle&&Te(e);return{c(){t=m("nav"),n=m("header"),s=b(e[12]),c=$(),r=m("table"),o=m("tr"),a=m("td"),a.innerHTML='<a href="."><img alt="" src="cell.png" class="beat logo svelte-1b92cnu"/></a>',i=$(),u=m("td"),d=b(e[3]),g=$(),C=m("td"),E=b(e[0]),z=$(),_=m("td"),N=b("$"),R=b(e[1]),T=$(),I=m("td"),j=b(e[9]),S=$(),O=m("td"),F=b(e[8]),A=$(),P=m("tr"),P.innerHTML='<td class="svelte-1b92cnu">cell script</td> \n    <td class="svelte-1b92cnu">gas usage</td> \n    <td class="svelte-1b92cnu">gas rate</td> \n    <td class="svelte-1b92cnu">eth price</td> \n    <td class="svelte-1b92cnu">mint cost (ETH)</td> \n    <td class="svelte-1b92cnu">mint cost (USD)</td>',B=$(),X=m("div"),G=m("div"),K=m("div"),Q=m("div"),Q.textContent="domain",V=$(),Y=m("textarea"),Z=$(),ee=m("div"),te=m("div"),te.textContent="cid",ne=$(),le=m("input"),se=$(),ce=m("div"),re=m("div"),re.textContent="sender",oe=$(),ae=m("input"),ie=$(),ue=m("div"),de=m("div"),de.textContent="receiver",fe=$(),pe=m("input"),ve=$(),he=m("div"),me=m("div"),me.textContent="value",$e=$(),ge=m("div"),we=m("input"),Ie=$(),je=m("div"),Se=b(e[7]),Oe=$(),Fe=m("div"),Ae=m("div"),Ae.textContent="start",Pe=$(),Be=m("div"),Le=m("input"),Me=$(),De=m("div"),Ue=b(e[6]),He=$(),Je=m("div"),We=m("div"),We.textContent="end",Xe=$(),Ge=m("div"),Ke=m("input"),Qe=$(),Ve=m("div"),Ye=b(e[5]),Ze=$(),et=m("div"),tt=m("div"),tt.textContent="hash puzzle",nt=$(),lt=m("input"),st=$(),ct=m("div"),rt=m("div"),rt.textContent="Senders Invite List",ot=$(),at=m("div"),it&&H(it.$$.fragment),ut=$(),dt=m("div"),ft=m("div"),ft.textContent="Receivers Invite List",pt=$(),vt=m("div"),ht&&H(ht.$$.fragment),mt=$(),bt=m("div"),$t=m("div"),$t.textContent="EIP-2981 Royalty",gt=$(),wt=m("div"),yt=m("button"),yt.textContent="Set royalty",xt=$(),hn&&hn.c(),qt=$(),kt=m("div"),Ct=m("div"),Ct.textContent="Payments split",Et=$(),zt=m("div"),_t=m("button"),_t.textContent="+ add",Nt=$();for(let e=0;e<bn.length;e+=1)bn[e].c();Rt=$(),Tt=m("div"),It=m("div"),It.textContent="Ownership condition",jt=$(),St=m("div"),Ot=m("button"),Ot.textContent="+ add",Ft=$();for(let e=0;e<wn.length;e+=1)wn[e].c();At=$(),Pt=m("div"),Bt=m("div"),Bt.textContent="Burnership condition",Lt=$(),Mt=m("div"),Dt=m("button"),Dt.textContent="+ sdd",Ut=$();for(let e=0;e<qn.length;e+=1)qn[e].c();Ht=$(),Jt=m("div"),Wt=m("div"),Wt.textContent="Balance condition",Xt=$(),Gt=m("div"),Kt=m("button"),Kt.textContent="+ add",Qt=$();for(let e=0;e<En.length;e+=1)En[e].c();Vt=$(),Yt=m("div"),H(Zt.$$.fragment),en=$(),tn=m("div"),_n&&_n.c(),nn=$(),ln=m("input"),sn=$(),cn=m("button"),cn.textContent="Mint",rn=$(),on=m("pre"),an=b(e[4]),y(n,"class","svelte-1b92cnu"),y(a,"class","svelte-1b92cnu"),y(u,"class","large svelte-1b92cnu"),y(C,"class","large svelte-1b92cnu"),y(_,"class","large svelte-1b92cnu"),y(I,"class","large svelte-1b92cnu"),y(O,"class","large svelte-1b92cnu"),y(r,"class","svelte-1b92cnu"),y(t,"class","svelte-1b92cnu"),y(Q,"class","col svelte-1b92cnu"),y(Y,"placeholder","enter your contract domain"),y(Y,"class","flexible svelte-1b92cnu"),y(K,"class","row svelte-1b92cnu"),y(te,"class","col svelte-1b92cnu"),y(le,"placeholder","metadata IPFS cid"),y(le,"class","flexible svelte-1b92cnu"),y(le,"type","text"),y(ee,"class","row svelte-1b92cnu"),y(re,"class","col svelte-1b92cnu"),y(ae,"placeholder","single authorized sender address"),y(ae,"class","flexible svelte-1b92cnu"),y(ae,"type","text"),y(ce,"class","row svelte-1b92cnu"),y(de,"class","col svelte-1b92cnu"),y(pe,"placeholder","single authorized receiver address"),y(pe,"class","flexible svelte-1b92cnu"),y(pe,"type","text"),y(ue,"class","row svelte-1b92cnu"),y(me,"class","col svelte-1b92cnu"),y(we,"placeholder","amount of wei required for minting"),y(we,"type","number"),y(we,"class","svelte-1b92cnu"),y(je,"class","annotation svelte-1b92cnu"),y(ge,"class","flexible svelte-1b92cnu"),y(he,"class","row svelte-1b92cnu"),y(Ae,"class","col svelte-1b92cnu"),y(Le,"placeholder","mint start time in Unix timestamp (in seconds)"),y(Le,"type","text"),y(Le,"class","svelte-1b92cnu"),y(De,"class","annotation svelte-1b92cnu"),y(Be,"class","flexible svelte-1b92cnu"),y(Fe,"class","row svelte-1b92cnu"),y(We,"class","col svelte-1b92cnu"),y(Ke,"placeholder","mint end time in Unix timestamp (in seconds)"),y(Ke,"type","text"),y(Ke,"class","svelte-1b92cnu"),y(Ve,"class","annotation svelte-1b92cnu"),y(Ge,"class","flexible svelte-1b92cnu"),y(Je,"class","row svelte-1b92cnu"),y(tt,"class","col svelte-1b92cnu"),y(lt,"placeholder","enter the desired solution to create a hash from"),y(lt,"class","flexible svelte-1b92cnu"),y(lt,"type","text"),y(et,"class","row svelte-1b92cnu"),y(rt,"class","col svelte-1b92cnu"),y(at,"class","senders flexible svelte-1b92cnu"),y(ct,"class","row svelte-1b92cnu"),y(ft,"class","col svelte-1b92cnu"),y(vt,"class","receivers flexible svelte-1b92cnu"),y(dt,"class","row svelte-1b92cnu"),y($t,"class","col svelte-1b92cnu"),y(yt,"class","block svelte-1b92cnu"),y(wt,"class","flexible svelte-1b92cnu"),y(bt,"class","row svelte-1b92cnu"),y(Ct,"class","col svelte-1b92cnu"),y(_t,"class","block svelte-1b92cnu"),y(zt,"class","flexible svelte-1b92cnu"),y(kt,"class","row svelte-1b92cnu"),y(It,"class","col svelte-1b92cnu"),y(Ot,"class","block svelte-1b92cnu"),y(St,"class","flexible svelte-1b92cnu"),y(Tt,"class","row svelte-1b92cnu"),y(Bt,"class","col svelte-1b92cnu"),y(Dt,"class","block svelte-1b92cnu"),y(Mt,"class","flexible svelte-1b92cnu"),y(Pt,"class","row svelte-1b92cnu"),y(Wt,"class","col svelte-1b92cnu"),y(Kt,"class","block svelte-1b92cnu"),y(Gt,"class","flexible svelte-1b92cnu"),y(Jt,"class","row svelte-1b92cnu"),y(G,"class","side svelte-1b92cnu"),y(ln,"type","text"),y(ln,"placeholder","mint receiver address"),y(ln,"class","svelte-1b92cnu"),y(cn,"class","svelte-1b92cnu"),y(tn,"class","toolbar svelte-1b92cnu"),y(on,"class","svelte-1b92cnu"),y(Yt,"class","side svelte-1b92cnu"),y(X,"class","container svelte-1b92cnu")},m(l,v){p(l,t,v),f(t,n),f(n,s),f(t,c),f(t,r),f(r,o),f(o,a),f(o,i),f(o,u),f(u,d),f(o,g),f(o,C),f(C,E),f(o,z),f(o,_),f(_,N),f(_,R),f(o,T),f(o,I),f(I,j),f(o,S),f(o,O),f(O,F),f(r,A),f(r,P),p(l,B,v),p(l,X,v),f(X,G),f(G,K),f(K,Q),f(K,V),f(K,Y),k(Y,e[2].domain),f(G,Z),f(G,ee),f(ee,te),f(ee,ne),f(ee,le),k(le,e[2].cid),f(G,se),f(G,ce),f(ce,re),f(ce,oe),f(ce,ae),k(ae,e[2].sender),f(G,ie),f(G,ue),f(ue,de),f(ue,fe),f(ue,pe),k(pe,e[2].receiver),f(G,ve),f(G,he),f(he,me),f(he,$e),f(he,ge),f(ge,we),k(we,e[2].value),f(ge,Ie),f(ge,je),f(je,Se),f(G,Oe),f(G,Fe),f(Fe,Ae),f(Fe,Pe),f(Fe,Be),f(Be,Le),k(Le,e[2].start),f(Be,Me),f(Be,De),f(De,Ue),f(G,He),f(G,Je),f(Je,We),f(Je,Xe),f(Je,Ge),f(Ge,Ke),k(Ke,e[2].end),f(Ge,Qe),f(Ge,Ve),f(Ve,Ye),f(G,Ze),f(G,et),f(et,tt),f(et,nt),f(et,lt),k(lt,e[2].puzzle),f(G,st),f(G,ct),f(ct,rt),f(ct,ot),f(ct,at),it&&J(it,at,null),f(G,ut),f(G,dt),f(dt,ft),f(dt,pt),f(dt,vt),ht&&J(ht,vt,null),f(G,mt),f(G,bt),f(bt,$t),f(bt,gt),f(bt,wt),f(wt,yt),f(wt,xt),hn&&hn.m(wt,null),f(G,qt),f(G,kt),f(kt,Ct),f(kt,Et),f(kt,zt),f(zt,_t),f(zt,Nt);for(let e=0;e<bn.length;e+=1)bn[e].m(zt,null);f(G,Rt),f(G,Tt),f(Tt,It),f(Tt,jt),f(Tt,St),f(St,Ot),f(St,Ft);for(let e=0;e<wn.length;e+=1)wn[e].m(St,null);f(G,At),f(G,Pt),f(Pt,Bt),f(Pt,Lt),f(Pt,Mt),f(Mt,Dt),f(Mt,Ut);for(let e=0;e<qn.length;e+=1)qn[e].m(Mt,null);f(G,Ht),f(G,Jt),f(Jt,Wt),f(Jt,Xt),f(Jt,Gt),f(Gt,Kt),f(Gt,Qt);for(let e=0;e<En.length;e+=1)En[e].m(Gt,null);f(X,Vt),f(X,Yt),J(Zt,Yt,null),f(Yt,en),f(Yt,tn),_n&&_n.m(tn,null),f(tn,nn),f(tn,ln),k(ln,e[11]),f(tn,sn),f(tn,cn),f(Yt,rn),f(Yt,on),f(on,an),un=!0,dn||(fn=[w(Y,"input",e[19]),w(le,"input",e[20]),w(ae,"input",e[21]),w(pe,"input",e[22]),w(we,"input",e[23]),w(Le,"input",e[24]),w(Ke,"input",e[25]),w(lt,"input",e[26]),w(yt,"click",e[27]),w(_t,"click",e[28]),w(Ot,"click",e[29]),w(Dt,"click",e[30]),w(Kt,"click",e[31]),w(ln,"input",e[33]),w(cn,"click",e[16])],dn=!0)},p(e,t){if((!un||4096&t[0])&&q(s,e[12]),(!un||8&t[0])&&q(d,e[3]),(!un||1&t[0])&&q(E,e[0]),(!un||2&t[0])&&q(R,e[1]),(!un||512&t[0])&&q(j,e[9]),(!un||256&t[0])&&q(F,e[8]),4&t[0]&&k(Y,e[2].domain),4&t[0]&&le.value!==e[2].cid&&k(le,e[2].cid),4&t[0]&&ae.value!==e[2].sender&&k(ae,e[2].sender),4&t[0]&&pe.value!==e[2].receiver&&k(pe,e[2].receiver),4&t[0]&&x(we.value)!==e[2].value&&k(we,e[2].value),(!un||128&t[0])&&q(Se,e[7]),4&t[0]&&Le.value!==e[2].start&&k(Le,e[2].start),(!un||64&t[0])&&q(Ue,e[6]),4&t[0]&&Ke.value!==e[2].end&&k(Ke,e[2].end),(!un||32&t[0])&&q(Ye,e[5]),4&t[0]&&lt.value!==e[2].puzzle&&k(lt,e[2].puzzle),pn!==(pn=be)){if(it){L();const e=it;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}pn?(it=new pn({props:{type:"senders"}}),it.$on("refresh",e[15]),H(it.$$.fragment),D(it.$$.fragment,1),J(it,at,null)):it=null}if(vn!==(vn=be)){if(ht){L();const e=ht;U(e.$$.fragment,1,0,(()=>{W(e,1)})),M()}vn?(ht=new vn({props:{type:"receivers"}}),ht.$on("refresh",e[15]),H(ht.$$.fragment),D(ht.$$.fragment,1),J(ht,vt,null)):ht=null}if(e[2].royalty?hn?(hn.p(e,t),4&t[0]&&D(hn,1)):(hn=Ee(e),hn.c(),D(hn,1),hn.m(wt,null)):hn&&(L(),U(hn,1,1,(()=>{hn=null})),M()),32772&t[0]){let n;for(mn=e[2].payments,n=0;n<mn.length;n+=1){const l=Ce(e,mn,n);bn[n]?(bn[n].p(l,t),D(bn[n],1)):(bn[n]=ze(l),bn[n].c(),D(bn[n],1),bn[n].m(zt,null))}for(L(),n=mn.length;n<bn.length;n+=1)$n(n);M()}if(32772&t[0]){let n;for(gn=e[2].owns,n=0;n<gn.length;n+=1){const l=ke(e,gn,n);wn[n]?(wn[n].p(l,t),D(wn[n],1)):(wn[n]=_e(l),wn[n].c(),D(wn[n],1),wn[n].m(St,null))}for(L(),n=gn.length;n<wn.length;n+=1)yn(n);M()}if(32772&t[0]){let n;for(xn=e[2].burned,n=0;n<xn.length;n+=1){const l=qe(e,xn,n);qn[n]?(qn[n].p(l,t),D(qn[n],1)):(qn[n]=Ne(l),qn[n].c(),D(qn[n],1),qn[n].m(Mt,null))}for(L(),n=xn.length;n<qn.length;n+=1)kn(n);M()}if(32772&t[0]){let n;for(Cn=e[2].balance,n=0;n<Cn.length;n+=1){const l=xe(e,Cn,n);En[n]?(En[n].p(l,t),D(En[n],1)):(En[n]=Re(l),En[n].c(),D(En[n],1),En[n].m(Gt,null))}for(L(),n=Cn.length;n<En.length;n+=1)zn(n);M()}e[2].puzzle?_n?_n.p(e,t):(_n=Te(e),_n.c(),_n.m(tn,nn)):_n&&(_n.d(1),_n=null),2048&t[0]&&ln.value!==e[11]&&k(ln,e[11]),(!un||16&t[0])&&q(an,e[4])},i(e){if(!un){it&&D(it.$$.fragment,e),ht&&D(ht.$$.fragment,e),D(hn);for(let e=0;e<mn.length;e+=1)D(bn[e]);for(let e=0;e<gn.length;e+=1)D(wn[e]);for(let e=0;e<xn.length;e+=1)D(qn[e]);for(let e=0;e<Cn.length;e+=1)D(En[e]);D(Zt.$$.fragment,e),un=!0}},o(e){it&&U(it.$$.fragment,e),ht&&U(ht.$$.fragment,e),U(hn),bn=bn.filter(Boolean);for(let e=0;e<bn.length;e+=1)U(bn[e]);wn=wn.filter(Boolean);for(let e=0;e<wn.length;e+=1)U(wn[e]);qn=qn.filter(Boolean);for(let e=0;e<qn.length;e+=1)U(qn[e]);En=En.filter(Boolean);for(let e=0;e<En.length;e+=1)U(En[e]);U(Zt.$$.fragment,e),un=!1},d(e){e&&v(t),e&&v(B),e&&v(X),it&&W(it),ht&&W(ht),hn&&hn.d(),h(bn,e),h(wn,e),h(qn,e),h(En,e),W(Zt),_n&&_n.d(),dn=!1,l(fn)}}}function je(e,t,n){let l,s,c,r,o,a,i,f,p,v,h,m;u(e,ee,(e=>n(10,i=e))),u(e,Z,(e=>n(11,f=e))),u(e,se,(e=>n(18,p=e))),u(e,ne,(e=>n(2,v=e))),u(e,ce,(e=>n(3,h=e))),u(e,te,(e=>n(12,m=e)));let b="",$=0,g=0;const w=()=>{d(ne,v.royalty={what:"20000",where:"0x502b2FE7Cc3488fcfF2E16158615AF87b4Ab5C41"},v)},y=e=>{console.log(e),"payments"===e?d(ne,v.payments=v.payments.concat({what:"",where:""}),v):"owns"===e?d(ne,v.owns=v.owns.concat({who:"sender",what:"",where:""}),v):"burned"===e?d(ne,v.burned=v.burned.concat({who:"sender",what:"",where:""}),v):"balance"===e&&d(ne,v.balance=v.balance.concat({who:"sender",what:"",where:""}),v)};return e.$$.update=()=>{262144&e.$$.dirty[0]&&n(4,b=JSON.stringify(p,null,2)),9&e.$$.dirty[0]&&n(17,l=Math.floor(h*$/Math.pow(10,10)*10**6)/10**6),131072&e.$$.dirty[0]&&n(9,s="Ξ"+l),131074&e.$$.dirty[0]&&n(8,c="$"+Math.floor(l*g*1e4)/1e4),4&e.$$.dirty[0]&&n(7,r=v.value?parseInt(v.value)/10**18+" ETH":""),4&e.$$.dirty[0]&&n(6,o=v.start?new Date(1e3*parseInt(v.start)).toString():""),4&e.$$.dirty[0]&&n(5,a=v.end?new Date(1e3*parseInt(v.end)).toString():"")},(async()=>{let e=await fetch("https://ethgasstation.info/api/ethgasAPI.json").then((e=>e.json()));return{fast:e.fast,fastest:e.fastest,slow:e.safeLow,average:e.average}})().then((e=>e.average)).then((e=>{n(0,$=e)})),(async()=>(await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=ethereum").then((e=>e.json())))[0].current_price)().then((e=>{n(1,g=e)})),[$,g,v,h,b,a,o,r,c,s,i,f,m,w,y,()=>{ne.set(v)},async()=>{const e=new window.C0,t=new Web3(window.ethereum);await e.init({web3:t});try{await e.token.send([p],[{receiver:f,puzzle:i}])}catch(e){}},l,p,function(){v.domain=this.value,ne.set(v)},function(){v.cid=this.value,ne.set(v)},function(){v.sender=this.value,ne.set(v)},function(){v.receiver=this.value,ne.set(v)},function(){v.value=x(this.value),ne.set(v)},function(){v.start=this.value,ne.set(v)},function(){v.end=this.value,ne.set(v)},function(){v.puzzle=this.value,ne.set(v)},()=>w(),()=>y("payments"),()=>y("owns"),()=>y("burned"),()=>y("balance"),function(){i=this.value,ee.set(i)},function(){f=this.value,Z.set(f)}]}class Se extends K{constructor(e){super(),G(this,e,je,Ie,c,{},null,[-1,-1])}}function Oe(t){let n,l,s;return l=new Se({}),{c(){n=m("main"),H(l.$$.fragment),y(n,"class","svelte-1e19ctb")},m(e,t){p(e,n,t),J(l,n,null),s=!0},p:e,i(e){s||(D(l.$$.fragment,e),s=!0)},o(e){U(l.$$.fragment,e),s=!1},d(e){e&&v(n),W(l)}}}return new class extends K{constructor(e){super(),G(this,e,null,Oe,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
